!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.data},function(e,t,n){"use strict";n.r(t),n.d(t,"getBG",(function(){return m}));var r=n(4),o=n(0),c=n(2),l=n(1),i=n(3),a=n(5);const u=["image"];var s=({props:e})=>{const{attributes:t,setAttributes:n}=e,{image:r}=t,s=Object(a.useSelect)(e=>{const{getMedia:t}=e("core");return r?t(r.id):void 0},[r]);Object(o.useEffect)(()=>{s&&n({image:s})},[s]);const m=()=>{n({image:void 0})};return Object(o.createElement)("div",{className:"gm-block-edit-image-container"},Object(o.createElement)(l.MediaUploadCheck,null,Object(o.createElement)(l.MediaUpload,{title:Object(c.__)("Image","gm-block-img-txt"),onSelect:e=>{n({image:e})},allowedTypes:u,value:s,render:({open:e})=>r&&s?Object(o.createElement)(i.Button,{onClick:m,title:Object(c.__)("remove","gm-block-img-txt")},Object(o.createElement)(i.Dashicon,{icon:"dismiss"})):Object(o.createElement)(i.Button,{onClick:e,title:Object(c.__)("add image","gm-block-img-txt")},!r&&Object(o.createElement)(i.Dashicon,{icon:"plus-alt"}),!!r&&!s&&Object(o.createElement)(i.Spinner,null))})))};const m=e=>{let t=null;if(e&&e.media_details){const{media_details:n}=e,{sizes:r}=n,{large:o,medium_large:c}=r;t=c||o}return t};Object(r.registerBlockType)("goodmotion/gm-block-img-txt",{edit:function(e){const{attributes:t,setAttributes:n}=e,{image:r,text:i,target:a,label:u}=t,b=m(r);return Object(o.createElement)("div",Object(l.useBlockProps)({style:{backgroundImage:b?`url(${b.source_url})`:null}}),Object(o.createElement)(s,{props:e}),Object(o.createElement)("div",{className:"gm-img-text-content"},Object(o.createElement)(l.RichText,{allowedFormats:[],placeholder:Object(c.__)("The title","gm-block-img-txt"),value:i,onChange:e=>n({text:e})}),Object(o.createElement)(l.URLInputButton,{url:a,onChange:(e,t)=>n({target:e,label:t&&t.title||u})})))},save:function(e){const{attributes:t}=e,{image:n,text:r,target:c,label:i}=t,a=m(n);return Object(o.createElement)("div",l.useBlockProps.save({style:{backgroundImage:a?`url(${a.source_url})`:null}}),Object(o.createElement)("a",{href:c,title:i,className:"gm-img-text-content"},Object(o.createElement)(l.RichText.Content,{tagName:"span",value:r})))},attributes:{image:{type:"object",default:{}},text:{type:"string",default:"The title"},label:{type:"string",default:""},target:{type:"string"}}})}]);